<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Reactのメイン(web以外の利用も想定されている) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <!-- Web向けに(DOMに)描画するためのライブラリ -->
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- JSの新しいコードを旧コードに変換(コンパイル)する -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="app">

    </div>
    <script type="text/babel">
        const container = document.getElementById('app')
        const root = ReactDOM.createRoot(container)
        const ComponentTest = () => {
            const useState = React.useState // CDNの場合React.useStateで呼び出す
            const [ count, setCount ] = useState(0) // 初期値を定義

            console.log(`コンポーネント表示時: ${count }`)

            const handleClick = () => {
                setCount(count + 1) // 更新用の関数(ステート変数)
                console.log(`関数内でsetCount実行後: ${count}`)
            }
            
            return (<>
                <div>count: { count } </div>
                <button onClick={handleClick}>+1</button>
            </>)
        }

        root.render(<>
        <ComponentTest />
        <ComponentTest />
        </>)
    </script>
</body>
</html>