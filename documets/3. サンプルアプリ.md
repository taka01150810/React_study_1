# 32. CSS Sass/Scss BEM (JS講座と同じ)

---

## 概要

Reactでサンプルアプリを作る際にCSSの知識が必要なので簡単におさらいをします。  
JavaScriptやBeautyJSの講座で扱った内容と同じため、受講済みの方はスキップ可能です。

---

## CSSの基本

- CSSは「Cascading Style Sheets」の略で、HTMLのデザインを指定する言語。  
- セレクターで対象を指定（タグ名、ID（#）、クラス（.）など）。  
- プロパティと値の組み合わせでスタイルを記述。  
- 擬似クラス（例：`:hover`）でマウスオーバー時のスタイルも指定可能。  
- 表示スタイル例：`color: red;`、`display: block;`など。  
- FlexboxやGridレイアウト、アニメーションも利用可能。

---

## CSSの書き方の種類

1. HTMLタグ内に直接`style`属性で記述（あまり使われない）。  
2. `<style>`タグ内に記述（HTMLのheadなど）。  
3. 外部ファイルにCSSを書き、`<link>`タグで読み込み。  
   - VSCodeではリンク先ファイルをクリックでジャンプ可能。  
   - 外部ファイルにまとめることで管理しやすくなる。

---

## CSS設計の課題とBEM

- 自由にクラス名を付けると統一性がなくメンテナンスが難しくなる。  
- CSS設計として「BEM（Block Element Modifier）」という命名規則がある。  
- BEMの構成：  
  - **Block（ブロック）**：独立したコンポーネント  
  - **Element（エレメント）**：ブロック内の子要素（`__`で繋ぐ）  
  - **Modifier（モディファイア）**：状態やバリエーション（`--`で繋ぐ）  
- 例：`nav__button--active`  
- BEMで書くことでメンテナンス性が向上。

---

## Sass/SCSSについて

- CSSは変数やファイルの分割が苦手で、複雑になると管理が大変。  
- Sass（サス）/ SCSSはCSSの拡張で、変数や入れ子、インポートなどが使える。  
- SCSSはCSSに近い書き方で、Sassはよりプログラミング的な書き方。  
- Sassの特徴の一つに「`&`（アンパサンド）」を使ったネストやセレクターの結合がある。  
- Sassを使うとBEMの繰り返しが減り、コードがすっきり書ける。  
- 例：  
  ```scss
  .block {
    &__element {
      &--modifier {
        // スタイル
      }
    }
  }

## VSCodeでのSass/SCSS利用方法

- 「Live Sass Compiler」という拡張機能をインストール推奨。
- SCSSファイルを保存すると自動でCSSにコンパイルされる。
- ファイル構成例：
    - `css/pp.css`（自動生成されたCSS）
    - `css/pp.scss`（SCSSのソース）
- コンパイルすると対応するCSSファイルとマップファイルが生成される。
- SCSSファイルに書いた内容でスタイルを管理し、効率的に開発できる。

---

## まとめ

- CSSの基本や書き方、設計の課題を理解する。
- BEMでクラス命名規則を統一し、メンテナンス性を向上させる。
- Sass/SCSSを使うことでCSSを効率よく管理できる。
- VSCodeのLive Sass Compilerで自動コンパイル環境を整える。


# 33. サンプル1: タブメニューその1 準備

---

## 概要

このセクションではReactを使い、いくつかサンプルを作成します。  
最初のサンプルは「タブメニュー」です。  
JavaScriptやVue.jsの講座で作ったものと同じ内容をReactで作成します。

---

## タブメニューのイメージ

- 上部にタブメニュー（複数タブが並ぶ）  
- 下部にタブごとのコンテンツ表示エリア  
- タブをクリックすると、クリックしたタブのCSSが変わり、表示される内容も切り替わる

---

## 開発環境準備

1. VSCodeでフォルダ構成を作成  
   - 現在「セクション12」がある階層に「セクション3」フォルダを新規作成  
   - 「セクション3」内に「TAB」フォルダを作成  

2. CSSファイルの準備  
   - GitHubに用意したCSSがあるのでダウンロード可能  
   - URLから「セクション3」→「TAB」フォルダ内の3つのファイル（pp.css、pp.css.map、pp.scss）がある  
   - 「pp.scss」を開き、Raw表示のコードをコピー  
   - VSCodeの「TAB」フォルダ内に新規作成した「pp.scss」に貼り付ける  

3. SCSSのコンパイル環境整備  
   - VSCodeの拡張機能から「Live Sass Compiler」を検索しインストール  
   - 「pp.scss」を開き、画面下の「Watch Sass」ボタンをクリックすると保存時に自動でCSSにコンパイルされる  
   - コンパイル後、「pp.css」が生成される  

4. React用HTMLファイルの作成  
   - 「TAB」フォルダ内に「index.html」を新規作成  
   - ReactのCDNテンプレート（セクション2のもの）を丸ごとコピーして貼り付ける  
   - `<head>`タグ内にCSS読み込み用の`<link>`タグを追加し、`href="pp.css"`で指定  
   - Reactコンポーネントによる描画部分は後で作成するため、既存のルートレンダー部分は削除して準備完了  

---

## 次のステップ

この準備ができたら、Reactコンポーネントを作り始めていきます。

---

# 34. タブメニューその2

---

## タブメニュー作成の要点

- 事前にタブの配列を用意（例: 1, 2, 3番の情報をオブジェクトで管理）  
- Reactの`useState`を使って現在アクティブなタブを管理  
- タブは上部にリストで表示し、`map`で繰り返し描画  
- 各タブに`id`と`title`を持たせる  
- タブの`className`はアクティブかどうかの条件で変える（例: activeクラスを付与）  
- タブのクリックイベントは`onClick`で処理し、クリックされたタブの`id`を引数に渡すためにアロー関数を使う  
- クリック時にアクティブなタブを更新する関数（`activate`）を用意し、`setActive`で`useState`の状態を更新  

---

## コンテンツの切り替え

- アクティブなタブの`id`に応じて表示内容を切り替える  
- 例えば、`active === 1`なら1番目の内容を表示、`2`なら2番目の内容、という具合に制御  

---

## コードの流れ（主な部分）

```jsx
const TabMenu = () => {
  // タブの配列を用意
  const items = [
    { id: 1, title: 'サイトの情報' },
    { id: 2, title: '商品情報' },
    { id: 3, title: 'お問い合わせ' },
  ];

  // useStateでアクティブなタブを管理（初期値は1）
  const [active, setActive] = React.useState(1);

  // タブ切り替え関数
  const activate = (id) => {
    console.log(id);  // クリックしたタブのidを確認
    setActive(id);    // アクティブを更新
  };

  return (
    <>
      <section className="tab">
        <ul className="tab__label">
          {items.map(item => (
            <li 
              key={item.id} 
              className={active === item.id ? 'active' : ''} 
              onClick={() => activate(item.id)}
            >
              {item.title}
            </li>
          ))}
        </ul>
        {/* コンテンツ部分は別で制御 */}
      </section>
    </>
  );
};

```

## 動作確認

- Reactのレンダーに`<TabMenu />`を読み込み、表示を確認
- ブラウザのコンソールでクリックしたタブのIDが表示されるか確認

---

## ポイント

- `onClick`に直接関数呼び出しを書く場合はアロー関数を使うのが定石
- 配列の`key`属性はReactの再レンダリング最適化に必須
- ステート変数`active`で現在選択中のタブを管理し、UIに反映させる

# 35. タブメニューその3

---

## 更新関数の注意点

- クリックしたIDを`setActive`で直接更新しようとすると、エラーになることがある  
  （例：`active`が読み取り専用で変更できないというエラー）  
- 対策として、`setActive`の更新関数にコールバック形式を使う  
  ```js
  setActive((prevActive) => id);
  ```

  と書くことで安全に状態更新できる

---

## 動作確認

- ブラウザでタブをクリックすると、コンソールやReact DevToolsで`active`の値が変わるのが確認できる
- 例えば「1番目をクリック → `active`が1に更新」などが正常に動作する

---

## CSSの適用

- タブの`a`タグに`className`を条件付きで付与
- 例: `className={item.id === active && 'active'}`
- これにより、選択中のタブだけに`active`クラスが付き、背景色などが変わるようになる

---

## コンテンツの切り替え

- タブ下のコンテンツ部分を`ul`タグ内に配置
- `active`の値によって表示内容を条件分岐
- 例:
    
    ```jsx
    jsx
    コピーする編集する
    {active === 1 && <div className="tab__content">サイトの情報</div>}
    {active === 2 && <div className="tab__content">商品情報</div>}
    {active === 3 && <div className="tab__content">お問い合わせ</div>}
    
    ```
    
- クリックに応じて表示内容が切り替わる

---

## まとめ

- Reactの`useState`の更新は直接値を変えず、関数のコールバックで安全に更新する
- CSSは`className`の条件付き付与で動的に切り替えられる
- 複数の知識を組み合わせることで、タブメニューの動的切り替えが実現可能
- 今回は1コンポーネント内で実装したが、必要に応じて分割も可能


# 36. サンプル2: モーダルウィンドウ 準備

---

## 概要

- 2つ目のサンプルはモーダルウィンドウの作成  
- ボタンをクリックすると、背景が暗くなり中央に白いウィンドウが表示される  
- 中央には画像が表示され、不要な部分は暗くすることで注目させるUI  
- バツボタンまたは背景の暗い部分をクリックするとモーダルが閉じる  

---

## ファイル準備

- CSSとHTMLテンプレートをGitHubに用意  
- GitHubのセクション3「modal」フォルダ内にファイルがある  
- SCSSファイル（`ipp.scss`）をコピーして、VSCodeの`section3/modal`フォルダに貼り付け  
- VSCodeの拡張機能「Live Sass Compiler」を使ってSCSSをCSSにコンパイル  

---

## 画像の準備

- モーダル内に表示する画像を用意  
- 無料画像サイト「Pexels」などからダウンロードし、`section3/modal`フォルダに保存  
- 拡張子を適切に変更（例：`.jpg`）して管理  

---

## アイコンの準備

- バツボタンなどに使うアイコンは「Font Awesome」を利用  
- 以前は直接リンクを貼るだけで使えたが、ユーザー登録が必要な場合もある  
- GitHubにアイコンの利用に必要なリンクも用意しているので確認・活用する  

---

## HTMLテンプレート

- GitHubの`section3/modal`フォルダに`index.html`を用意  
- 内容はこれまでのサンプルとほぼ同様で、  
  - Font Awesomeのリンク  
  - コンパイル済みCSSの読み込み  
- これをVSCodeの`section3/modal/index.html`に貼り付けて準備完了  

---

## これからの流れ

- この状態からモーダルウィンドウの動作実装を進める  

---

以上を踏まえ、準備を進めてください。

# 37. モーダルウィンドウ その2

---

## 概要

- ボタンをクリックしてモーダルウィンドウの表示・非表示を切り替える（トグル機能）を作成  
- トグルはBoolean型の`true`（ON）/ `false`（OFF）で管理するのが基本  
- Reactの`useState`で初期値を`false`に設定し、クリック時に`true`/`false`を切り替える  

---

## トグル処理のポイント

- 更新関数内で`!modalStatus`のように「反転」させることでON/OFFを切り替える  
- `onClick`イベントの書き方は、引数を持つ場合はアロー関数を使う  
- 引数なしなら直接関数名を渡してもOK  

---

## コンポーネント構造

- モーダルウィンドウ用の関数コンポーネントを作成  
- `return`内に以下の要素を記述  
  - ボタン（「表示する」ボタン）  
  - モーダルの全体を囲む`div`（黒い背景）  
  - モーダルの中身の`div`（白背景）  
  - 閉じるボタン（バツアイコン）  
  - 表示する画像タグ  

---

## CSSクラス例

- `.modal-inner`：白い背景部分  
- `.modal-close`：閉じるボタンのスタイル  
- `.modal-background`：黒い背景の部分  

---

## 実装の流れ

1. `useState`で`modalStatus`（初期値`false`）と`setModalStatus`を宣言  
2. トグル用関数を作成（`setModalStatus(!modalStatus)`）  
3. 「表示する」ボタンの`onClick`にトグル関数をセット  
4. モーダル背景と閉じるボタンにも同じトグル関数を`onClick`にセット  
5. CSSの`display`プロパティを三項演算子で制御し、`modalStatus`が`true`の時だけ表示するようにする  

---

## 確認ポイント

- ページを開いた時はモーダル非表示（`false`）  
- ボタンを押すとモーダル表示（`true`）になる  
- モーダルのバツボタンまたは背景クリックでモーダル非表示に戻る  
- 状態は`useState`で管理され、クリックごとに切り替わる  

---

## 補足

- トグルのオン・オフ切り替えはよく使う基本的な操作なので、ぜひ実際に手を動かして慣れておくと良い  
- イベントハンドラの書き方は柔軟に対応できるよう理解を深めること  

---

# 38. サンプル3: カルーセル（スライドショー）

---

## 概要

- カルーセルはスライドショーのことで、メイン画像と左右のナビボタン、小さなサムネイル画像を表示  
- 左右のボタンでメイン画像が切り替わり、サムネイルも連動して強調表示される  
- サムネイルクリックでも対応画像に切り替わる  
- Reactの`useState`で現在の画像IDを管理し、クリックで状態を更新  

---

## 準備

- GitHubから必要なファイルをダウンロード  
- フォントアイコンはFontAwesomeを使用  
- 画像はPixabayなどからダウンロードし、サイズを統一して配置  
- SCSSファイルを用意し、VSCodeのLive Sass CompilerなどでCSSを生成  

---

## フォルダ構成例

section3/
└── carousel/
├── index.html
├── carousel.scss
└── images/
├── 000.jpg
├── 001.jpg
├── ... (計7枚)


---

## コンポーネント作成の流れ

1. **配列作成**  
   - 画像の情報を配列`images`として用意（ID: 0〜6、ファイル名: 000.jpg など）  
2. **JSXの構造作成**  
   - フラグメントで囲み、`section`タグにクラス名`carousel`を付与  
   - メイン画像表示用の`div`（クラス名例：`carousel-main`）に画像タグを配置  
   - 左右の矢印ボタン（FontAwesomeアイコン）を作成  
   - サムネイル画像は`ul`タグでリスト表示、配列を`map`で展開し、`key`にIDを指定  
3. **状態管理**  
   - `useState`で現在の表示画像IDを管理  
4. **動作実装（後続予定）**  
   - 矢印ボタンでIDを増減させて画像切り替え  
   - サムネイルクリックで直接画像切り替え  

---

## 開発のポイント

- VSCodeのマルチカーソル機能でIDやファイル名を一括編集すると効率的  
- CSSクラスはあらかじめ用意しておき、状態に応じたスタイル切替えを行う  
- まずはメイン画像とサムネイルの表示ができる状態を確認する  

---

## 確認

- ブラウザで表示し、メイン画像が配列の最初の画像（ID 0）として表示されることを確認  

---

## 今後の作業

- ボタン押下やサムネイルクリックによる画像切り替えの実装に進む  

---

# 39. カルーセル その2

---

## 概要

- カルーセル機能の続きで、現在の画像IDを`useState`で管理しながら  
- サムネイルクリックや左右矢印クリックで画像を切り替える処理を実装する

---

## 状態管理

```js
const [active, setActive] = useState(0); // 初期値0（0番目の画像を表示）
```
## サムネイルクリックで画像切替え

- サムネイル画像の`onClick`に関数を割り当てる
- クリック時に渡される画像IDを受け取り、`setActive`で状態更新

```jsx
jsx
コピーする編集する
<ul>
  {images.map((image) => (
    <likey={image.id}
      className={active === image.id ? "current" : ""}
      onClick={() => currentImage(image.id)}
    >
      <img src={image.src} alt="" />
    </li>
  ))}
</ul>

```

- `currentImage`関数は`setActive`を呼び、クリックされたIDで状態を更新する

```jsx
js
コピーする編集する
const currentImage = (id) => {
  setActive(() => id);
};

```

- クリックしたサムネイルにだけ特別なCSSクラス（例: `current`）を付与して強調表示

---

## メイン画像の切替え

- メイン画像は配列の`active`番目の画像を表示

```jsx
jsx
コピーする編集する
<img src={images[active].src} alt="" />

```

---

## 左右矢印ボタンの挙動

- **進むボタン (Next):**
    - クリックで`active`を1増やす
    - 最後の画像（ID最大値）でクリックしたら`0`に戻す（ループさせる）

```jsx
js
コピーする編集する
const nextImage = () => {
  if (active >= images.length - 1) {
    setActive(0);
  } else {
    setActive(active + 1);
  }
};

```

- **戻るボタン (Prev):**
    - クリックで`active`を1減らす
    - 0の状態でクリックしたら最大IDに戻す

```jsx
js
コピーする編集する
const prevImage = () => {
  if (active <= 0) {
    setActive(images.length - 1);
  } else {
    setActive(active - 1);
  }
};

```

- ボタンの`onClick`にそれぞれの関数を設定

---

## 動作確認

- 右矢印をクリックすると画像が順に切り替わり、最後は最初に戻る
- 左矢印をクリックすると画像が逆順に切り替わり、最初から最後に戻る
- サムネイルクリックでも該当画像に切り替わる
- React DevToolsで`active`の状態が変化しているのを確認できる

---

## まとめ

- 配列操作、`useState`による状態管理、イベント処理を組み合わせてカルーセルを実装
- これまで学んだ内容の総復習として良い演習になるので、ぜひコードを書いて動作を確認しながら理解を深めてほしい

# 40. セクション3のまとめ

---

## セクション内容

- タブメニュー、モーダルウィンドウ、カルーセル（スライドショー）の3つのサンプルアプリを作成  
- Reactの`useState`を使って値を管理し、クリックイベントで状態を更新する方法を学習  
- オンオフを切り替える「トグル」の実装も理解できたはず

---

## カルーセルについて

- JavaScriptやVue.jsでは、3〜4秒ごとに自動で画像を切り替える機能を作っていた  
- Reactでは自動切り替えには`useEffect`という別のフックを使う必要がある  
- `useEffect`の使い方は今後の解説で紹介予定

---

## 今後の展望

- まだ3つのアプリを作成していない場合は、ぜひ一度チャレンジしてみてほしい  
- 次のセクションでは「フォーム」をテーマに進めていく予定

